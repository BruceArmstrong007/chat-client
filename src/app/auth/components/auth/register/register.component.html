<div class="container">
  <form
    class="form mat-elevation-z4"
    [formGroup]="registerForm"
    (ngSubmit)="onSubmit()"
  >
    <div class="header"><h1>Register</h1></div>
    <mat-form-field color="accent" class="form-field" appearance="outline">
      <mat-label>Name</mat-label>
      <input
        matInput
        type="text"
        minlength="2"
        maxlength="20"
        formControlName="name"
        required
      />
      <mat-icon matSuffix>face</mat-icon>
      <mat-hint>Name should be between 2 - 20 digits</mat-hint>
    </mat-form-field>
    <mat-form-field color="accent" class="form-field" appearance="outline">
      <mat-label>Username</mat-label>
      <input
        matInput
        type="text"
        minlength="8"
        maxlength="20"
        formControlName="username"
        required
      />
      <mat-icon matSuffix>person</mat-icon>
      <mat-hint>Username should be between 8 - 20 digits</mat-hint>
    </mat-form-field>
    <mat-form-field color="accent" class="form-field" appearance="outline">
      <mat-label>Password</mat-label>
      <input
        matInput
        [type]="hide ? 'password' : 'text'"
        minlength="8"
        maxlength="50"
        formControlName="password"
        required
      />
      <mat-icon matSuffix (click)="hide = !hide">
        {{ hide ? "visibility_off" : "visibility" }}
      </mat-icon>
      <mat-hint>Password should be between 8 - 50 digits</mat-hint>
    </mat-form-field>
    <mat-form-field color="accent" class="form-field" appearance="outline">
      <mat-label>Re-Enter Password</mat-label>
      <input
        matInput
        type="password"
        minlength="8"
        maxlength="50"
        formControlName="rpassword"
        required
      />
      <mat-icon matSuffix>password</mat-icon>
      <mat-hint>Both password should match</mat-hint>
    </mat-form-field>

    <div class="footer">
      <button color="accent" type="reset" mat-raised-button (click)="clear()">
        Clear
      </button>
      <button
        color="primary"
        type="submit"
        mat-raised-button
        [disabled]="isSubmitting$ | async"
      >
        <mat-progress-spinner
          class="center"
          *ngIf="isSubmitting$ | async"
          diameter="25"
          mode="indeterminate"
          color="accent"
        >
        </mat-progress-spinner>
        <span *ngIf="!(isSubmitting$ | async)">Submit</span>
      </button>
    </div>
  </form>
</div>
